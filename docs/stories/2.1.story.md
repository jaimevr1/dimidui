# Story 2.1: Interface de Criação de Atividade (Metadados)

- **Status**: Draft
- **Epic**: 2
- **Release**: 1.0

## Story
As a: Professor,
I want: Uma interface para iniciar a criação de uma nova atividade, definindo suas informações básicas,
so that: Eu possa organizar e categorizar o conteúdo.

## Acceptance Criteria
1.  A página `professor-criar.html` deve ter um formulário para os metadados da atividade: nome, tipo, códigos BNCC e duração.
2.  Se o tipo for "Integração", um dropdown deve aparecer para vincular a uma atividade de "Fluência".
3.  Um botão "+ Adicionar Módulo" deve estar visível.

## Dev Notes

### Fluxo de Criação
Esta estória foca na primeira etapa do processo de criação de atividades. O formulário deve ser simples e direto, capturando apenas as informações de alto nível. A lógica de adicionar e configurar módulos será tratada em estórias subsequentes. O objetivo aqui é criar a estrutura da página e o formulário inicial.

- **Fonte**: `docs/prd/user-interface-design-goals.md` (Core Screen: `professor-criar.html`)

### Vinculação de Atividades (AC: 2)
Para o dropdown de atividades de "Fluência", o script desta página precisará fazer uma chamada ao Supabase para buscar todas as atividades existentes onde `type = 'fluencia'`. O dropdown deve ser populado com o `name` e armazenar o `id` da atividade selecionada.

- **Fonte**: `docs/architecture/5-database-schema.md` (Tabela `activities`)

### Estrutura da Página
A página `professor-criar.html` conterá o formulário de metadados e, futuramente, a área de construção dos módulos. Por enquanto, o botão "+ Adicionar Módulo" pode ser um placeholder, sem funcionalidade.

- **Fonte**: `docs/architecture/7-unified-project-structure.md`

## Tasks / Subtasks

1.  **Criar a Estrutura da Página (AC: 1)**
    - [ ] Crie o arquivo `professor-criar.html`.
    - [ ] Adicione um título, como "Criar Nova Atividade".
    - [ ] Crie um formulário (`<form>`) para os metadados.
    - [ ] Adicione os seguintes campos ao formulário:
        - Input de texto para `name` (Nome da Atividade).
        - Select/dropdown para `type` (Tipo), com as opções "Fluência" e "Integração".
        - Input de texto para `bncc_codes` (Códigos BNCC, separados por vírgula).
        - Input numérico para `estimated_duration` (Duração Estimada em minutos).

2.  **Implementar Lógica de Vinculação (AC: 2)**
    - [ ] Crie um script JS para esta página (ex: `/scripts/activity-creator.js`) e inclua-o no HTML.
    - [ ] Adicione um event listener que detecta a mudança no dropdown `type`.
    - [ ] Crie um contêiner para o dropdown de vinculação, inicialmente oculto.
    - [ ] Se o usuário selecionar "Integração", faça o seguinte:
        - [ ] Use o cliente Supabase para buscar `id` e `name` da tabela `activities` onde `type` é igual a 'fluência'.
        - [ ] Popule um novo dropdown com os nomes das atividades de fluência.
        - [ ] Exiba o dropdown de vinculação.
    - [ ] Se o usuário selecionar "Fluência", oculte o dropdown de vinculação.

3.  **Adicionar Botão Placeholder (AC: 3)**
    - [ ] Abaixo do formulário de metadados, adicione um botão com o texto "+ Adicionar Módulo".
    - [ ] Por enquanto, este botão não precisa ter nenhuma funcionalidade associada.

4.  **Verificação Manual**
    - [ ] Abra a página `professor-criar.html` no navegador.
    - [ ] Verifique se todos os campos do formulário são exibidos corretamente.
    - [ ] Selecione o tipo "Integração" e verifique se um novo dropdown aparece, populado com atividades de fluência (crie algumas manualmente no Supabase para testar).
    - [ ] Selecione o tipo "Fluência" e verifique se o dropdown de vinculação desaparece.
    - [ ] Verifique se o botão "+ Adicionar Módulo" está visível.
