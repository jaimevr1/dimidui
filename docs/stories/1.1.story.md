
# Story 1.1: Configuração do Projeto e Infraestrutura

- **Status**: Draft
- **Epic**: 1
- **Release**: 1.0

## Story
As a: Desenvolvedor,
I want: Configurar o projeto no Supabase e a estrutura de pastas local,
so that: A base para o desenvolvimento da aplicação esteja pronta.

## Acceptance Criteria
1.  As tabelas `students`, `activities`, `question_bank`, `student_attempts`, `activity_assignments` e as views `concept_mastery`, `student_progress_summary` devem ser criadas no Supabase.
2.  As políticas de RLS básicas para a tabela `students` (aluno só pode ver a si mesmo) devem ser ativadas.
3.  A estrutura de pastas local (`/assets`, `/styles`, `/scripts`) deve ser criada conforme a especificação.

## Dev Notes

### Data Models & Schema
O esquema completo do banco de dados que deve ser executado no editor SQL do Supabase está definido no documento de arquitetura. Isso inclui todas as tabelas, colunas, tipos de dados e views.

- **Fonte**: `docs/architecture/5-database-schema.md`

As interfaces TypeScript correspondentes para uso no frontend também estão definidas.

- **Fonte**: `docs/architecture/4-data-models-typescript-interfaces.md`

### API Specifications
A API REST será auto-gerada pelo Supabase (PostgREST) após a criação das tabelas. Não é necessário criar endpoints manualmente. A interação com a API será feita através da biblioteca de cliente `supabase-js`.

- **Fonte**: `docs/architecture/3-tech-stack.md`

### File Locations
A estrutura de pastas do projeto deve seguir exatamente o que foi definido na arquitetura. O agente de desenvolvimento deve criar essa estrutura no início da implementação.

- **Fonte**: `docs/architecture/7-unified-project-structure.md`

### Testing Requirements
O teste para esta estória será manual. O desenvolvedor deve verificar se as tabelas foram criadas corretamente no painel do Supabase e se as pastas locais existem.

- **Fonte**: `docs/architecture/3-tech-stack.md`

### Technical Constraints & Coding Standards
- Todas as interações com o Supabase devem usar um cliente centralizado em `/scripts/supabase-client.js`.
- Variáveis de ambiente (URL do Supabase e chave anônima) não devem ser codificadas diretamente.
- **Fonte**: `docs/architecture/8-coding-standards.md`

## Tasks / Subtasks

1.  **Criar Estrutura de Pastas Local (AC: 3)**
    - [ ] Crie as seguintes pastas na raiz do projeto:
        - `/assets/fonts`
        - `/assets/icons`
        - `/styles`
        - `/scripts/modules`

2.  **Configurar o Projeto Supabase (AC: 1)**
    - [ ] Crie um novo projeto no painel do Supabase.
    - [ ] Navegue até o "SQL Editor".
    - [ ] Copie e execute todo o conteúdo do arquivo `docs/architecture/5-database-schema.md` para criar todas as tabelas e views.
    - [ ] Verifique na seção "Table Editor" se todas as tabelas foram criadas com sucesso.

3.  **Ativar Row Level Security (RLS) (AC: 2)**
    - [ ] No painel do Supabase, vá para "Authentication" -> "Policies".
    - [ ] Para a tabela `students`, ative o RLS.
    - [ ] Crie uma nova política com base em um template para "Enable read access for individual users based on their user ID", garantindo que um usuário autenticado só possa ler sua própria linha. A condição deve ser `auth.uid() = id`.

4.  **Criar Arquivo de Configuração do Cliente (AC: 1, 2, 3)**
    - [ ] Crie o arquivo `/scripts/supabase-client.js`.
    - [ ] Adicione o código para inicializar o cliente Supabase, usando as variáveis de ambiente para a URL e a chave anônima.
    - [ ] Exporte o cliente inicializado para ser usado por outros scripts.

5.  **Verificação Manual**
    - [ ] Confirme que a estrutura de pastas está correta.
    - [ ] Confirme que as tabelas e views existem no Supabase.
    - [ ] Confirme que a política RLS para a tabela `students` está ativa.
